keymap_noshift = {}
keymap_noshift[0x04]='a'
keymap_noshift[0x05]='b'
keymap_noshift[0x06]='c'
keymap_noshift[0x07]='d'
keymap_noshift[0x08]='e'
keymap_noshift[0x09]='f'
keymap_noshift[0x0A]='g'
keymap_noshift[0x0B]='h'
keymap_noshift[0x0C]='i'
keymap_noshift[0x0D]='j'
keymap_noshift[0x0E]='k'
keymap_noshift[0x0F]='l'
keymap_noshift[0x10]='m'
keymap_noshift[0x11]='n'
keymap_noshift[0x12]='o'
keymap_noshift[0x13]='p'
keymap_noshift[0x14]='q'
keymap_noshift[0x15]='r'
keymap_noshift[0x16]='s'
keymap_noshift[0x17]='t'
keymap_noshift[0x18]='u'
keymap_noshift[0x19]='v'
keymap_noshift[0x1A]='w'
keymap_noshift[0x1B]='x'
keymap_noshift[0x1C]='y'
keymap_noshift[0x1D]='z'
keymap_noshift[0x1E]='1'
keymap_noshift[0x1F]='2'
keymap_noshift[0x20]='3'
keymap_noshift[0x21]='4'
keymap_noshift[0x22]='5'
keymap_noshift[0x23]='6'
keymap_noshift[0x24]='7'
keymap_noshift[0x25]='8'
keymap_noshift[0x26]='9'
keymap_noshift[0x27]='0'
keymap_noshift[0x28]='\n'
keymap_noshift[0x29]=''
keymap_noshift[0x2A]='\b'
keymap_noshift[0x2B]='\t'
keymap_noshift[0x2C]=' '
keymap_noshift[0x2D]='-'
keymap_noshift[0x2E]='='
keymap_noshift[0x2F]='['
keymap_noshift[0x30]=']'
keymap_noshift[0x31]='\\'
keymap_noshift[0x33]=';'
keymap_noshift[0x34]='\''
keymap_noshift[0x35]='`'
keymap_noshift[0x36]=','
keymap_noshift[0x37]='.'
keymap_noshift[0x38]='/'
keymap_noshift[0x39]=''
keymap_noshift[0x3A]=''
keymap_noshift[0x3B]=''
keymap_noshift[0x3C]=''
keymap_noshift[0x3D]=''
keymap_noshift[0x3E]=''
keymap_noshift[0x3F]=''
keymap_noshift[0x40]=''
keymap_noshift[0x41]=''
keymap_noshift[0x42]=''
keymap_noshift[0x43]=''
keymap_noshift[0x44]=''
keymap_noshift[0x45]=''
keymap_noshift[0x49]=''
keymap_noshift[0x4B]=''
keymap_noshift[0x4C]=''
keymap_noshift[0x4E]=''
keymap_noshift[0x4F]=''
keymap_noshift[0x50]=''
keymap_noshift[0x51]=''
keymap_noshift[0x52]=''
keymap_noshift[0x53]=''
keymap_noshift[0x54]='/'
keymap_noshift[0x55]='*'
keymap_noshift[0x56]='-'
keymap_noshift[0x57]='+'
keymap_noshift[0x58]='/n'
keymap_noshift[0x59]='1'
keymap_noshift[0x5A]='2'
keymap_noshift[0x5B]='3'
keymap_noshift[0x5C]='4'
keymap_noshift[0x5D]='5'
keymap_noshift[0x5E]='6'
keymap_noshift[0x5F]='7'
keymap_noshift[0x60]='8'
keymap_noshift[0x61]='9'
keymap_noshift[0x62]='0'
keymap_noshift[0x63]='.'
keymap_noshift[0xE0]=''
keymap_noshift[0xE1]=''
keymap_noshift[0xE2]=''
keymap_noshift[0xE3]=''
keymap_noshift[0xE4]=''
keymap_noshift[0xE5]=''
keymap_noshift[0xE6]=''
keymap_noshift[0xFF]=''

keymap_shift = {}
keymap_shift[0x04]='A'
keymap_shift[0x05]='B'
keymap_shift[0x06]='C'
keymap_shift[0x07]='D'
keymap_shift[0x08]='E'
keymap_shift[0x09]='F'
keymap_shift[0x0A]='G'
keymap_shift[0x0B]='H'
keymap_shift[0x0C]='I'
keymap_shift[0x0D]='J'
keymap_shift[0x0E]='K'
keymap_shift[0x0F]='L'
keymap_shift[0x10]='M'
keymap_shift[0x11]='N'
keymap_shift[0x12]='O'
keymap_shift[0x13]='P'
keymap_shift[0x14]='Q'
keymap_shift[0x15]='R'
keymap_shift[0x16]='S'
keymap_shift[0x17]='T'
keymap_shift[0x18]='U'
keymap_shift[0x19]='V'
keymap_shift[0x1A]='W'
keymap_shift[0x1B]='X'
keymap_shift[0x1C]='Y'
keymap_shift[0x1D]='Z'
keymap_shift[0x1E]='!'
keymap_shift[0x1F]='@'
keymap_shift[0x20]='#'
keymap_shift[0x21]='$'
keymap_shift[0x22]='%'
keymap_shift[0x23]='^'
keymap_shift[0x24]='&'
keymap_shift[0x25]='*'
keymap_shift[0x26]='('
keymap_shift[0x27]=')'
keymap_shift[0x28]='\n'
keymap_shift[0x29]=''
keymap_shift[0x2A]='\b'
keymap_shift[0x2B]='\t'
keymap_shift[0x2C]=' '
keymap_shift[0x2D]='_'
keymap_shift[0x2E]='+'
keymap_shift[0x2F]='{'
keymap_shift[0x30]='}'
keymap_shift[0x31]='|'
keymap_shift[0x33]=':'
keymap_shift[0x34]='"'
keymap_shift[0x35]='~'
keymap_shift[0x36]='<'
keymap_shift[0x37]='>'
keymap_shift[0x38]='?'
keymap_shift[0x39]=''
keymap_shift[0x3A]=''
keymap_shift[0x3B]=''
keymap_shift[0x3C]=''
keymap_shift[0x3D]=''
keymap_shift[0x3E]=''
keymap_shift[0x3F]=''
keymap_shift[0x40]=''
keymap_shift[0x41]=''
keymap_shift[0x42]=''
keymap_shift[0x43]=''
keymap_shift[0x44]=''
keymap_shift[0x45]=''
keymap_shift[0x49]=''
keymap_shift[0x4B]=''
keymap_shift[0x4C]=''
keymap_shift[0x4E]=''
keymap_shift[0x4F]=''
keymap_shift[0x50]=''
keymap_shift[0x51]=''
keymap_shift[0x52]=''
keymap_shift[0x53]=''
keymap_shift[0x54]='/'
keymap_shift[0x55]='*'
keymap_shift[0x56]='-'
keymap_shift[0x57]='+'
keymap_shift[0x58]='/n'
keymap_shift[0x59]='1'
keymap_shift[0x5A]='2'
keymap_shift[0x5B]='3'
keymap_shift[0x5C]='4'
keymap_shift[0x5D]='5'
keymap_shift[0x5E]='6'
keymap_shift[0x5F]='7'
keymap_shift[0x60]='8'
keymap_shift[0x61]='9'
keymap_shift[0x62]='0'
keymap_shift[0x63]='.'
keymap_shift[0xE0]=''
keymap_shift[0xE1]=''
keymap_shift[0xE2]=''
keymap_shift[0xE3]=''
keymap_shift[0xE4]=''
keymap_shift[0xE5]=''
keymap_shift[0xE6]=''
keymap_shift[0xFF]=''

def getchar(hidcode, shift=False):
    if not shift:
        if hidcode in keymap_noshift:
            return keymap_noshift[hidcode]
    else:
        if hidcode in keymap_shift:
            return keymap_shift[hidcode]
    return ''